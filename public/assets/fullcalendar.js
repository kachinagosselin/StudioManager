!function(t,e){function i(e){t.extend(!0,De,e)}function n(i,n,h){function c(t){se?m()&&(M(),k(t)):u()}function u(){oe=n.theme?"ui":"fc",i.addClass("fc"),n.isRTL?i.addClass("fc-rtl"):i.addClass("fc-ltr"),n.theme&&i.addClass("ui-widget"),se=t("<div class='fc-content' style='position:relative'/>").prependTo(i),ie=new s(ee,n),ne=ie.render(),ne&&i.prepend(ne),y(n.defaultView),n.handleWindowResize&&t(window).resize(S),v()||f()}function f(){setTimeout(function(){!ae.start&&v()&&D()},0)}function p(){ae&&(te("viewDestroy",ae,ae,ae.element),ae.triggerEventDestroy()),t(window).unbind("resize",S),ie.destroy(),se.remove(),i.removeClass("fc fc-rtl ui-widget")}function m(){return i.is(":visible")}function v(){return t("body").is(":visible")}function y(t){ae&&t==ae.name||C(t)}function C(e){pe++,ae&&(te("viewDestroy",ae,ae,ae.element),I(),ae.triggerEventDestroy(),K(),ae.element.remove(),ie.deactivateButton(ae.name)),ie.activateButton(e),ae=new Me[e](t("<div class='fc-view fc-view-"+e+"' style='position:relative'/>").appendTo(se),ee),D(),G(),pe--}function D(t){(!ae.start||t||ge<ae.start||ge>=ae.end)&&m()&&k(t)}function k(t){pe++,ae.start&&(te("viewDestroy",ae,ae,ae.element),I(),F()),K(),ae.render(ge,t||0),x(),G(),(ae.afterRender||j)(),L(),P(),te("viewRender",ae,ae,ae.element),ae.trigger("viewDisplay",de),pe--,A()}function T(){m()&&(I(),F(),M(),x(),_())}function M(){le=n.contentHeight?n.contentHeight:n.height?n.height-(ne?ne.height():0)-U(se):Math.round(se.width()/Math.max(n.aspectRatio,.5))}function x(){le===e&&M(),pe++,ae.setHeight(le),ae.setWidth(se.width()),pe--,re=i.outerWidth()}function S(){if(!pe)if(ae.start){var t=++fe;setTimeout(function(){t==fe&&!pe&&m()&&re!=(re=i.outerWidth())&&(pe++,T(),ae.trigger("windowResize",de),pe--)},200)}else f()}function $(){F(),N()}function E(t){F(),_(t)}function _(t){m()&&(ae.setEventData(me),ae.renderEvents(me,t),ae.trigger("eventAfterAllRender"))}function F(){ae.triggerEventDestroy(),ae.clearEvents(),ae.clearEventData()}function A(){!n.lazyFetching||ce(ae.visStart,ae.visEnd)?N():_()}function N(){ue(ae.visStart,ae.visEnd)}function O(t){me=t,_()}function H(t){E(t)}function L(){ie.updateTitle(ae.title)}function P(){var t=new Date;t>=ae.start&&t<ae.end?ie.disableButton("today"):ie.enableButton("today")}function V(t,i,n){ae.select(t,i,n===e?!0:n)}function I(){ae&&ae.unselect()}function W(){D(-1)}function R(){D(1)}function z(){a(ge,-1),D()}function B(){a(ge,1),D()}function q(){ge=new Date,D()}function Y(t,e,i){t instanceof Date?ge=d(t):g(ge,t,e,i),D()}function Q(t,i,n){t!==e&&a(ge,t),i!==e&&r(ge,i),n!==e&&l(ge,n),D()}function J(){return d(ge)}function K(){se.css({width:"100%",height:se.height(),overflow:"hidden"})}function G(){se.css({width:"",height:"",overflow:""})}function X(){return ae}function Z(t,i){return i===e?n[t]:(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(n[t]=i,T()),void 0)}function te(t,e){return n[t]?n[t].apply(e||de,Array.prototype.slice.call(arguments,2)):void 0}var ee=this;ee.options=n,ee.render=c,ee.destroy=p,ee.refetchEvents=$,ee.reportEvents=O,ee.reportEventChange=H,ee.rerenderEvents=E,ee.changeView=y,ee.select=V,ee.unselect=I,ee.prev=W,ee.next=R,ee.prevYear=z,ee.nextYear=B,ee.today=q,ee.gotoDate=Y,ee.incrementDate=Q,ee.formatDate=function(t,e){return w(t,e,n)},ee.formatDates=function(t,e,i){return b(t,e,i,n)},ee.getDate=J,ee.getView=X,ee.option=Z,ee.trigger=te,o.call(ee,n,h);var ie,ne,se,oe,ae,re,le,he,ce=ee.isFetchNeeded,ue=ee.fetchEvents,de=i[0],fe=0,pe=0,ge=new Date,me=[];g(ge,n.year,n.month,n.date),n.droppable&&t(document).bind("dragstart",function(e,i){var s=e.target,o=t(s);if(!o.parents(".fc").length){var a=n.dropAccept;(t.isFunction(a)?a.call(s,o):o.is(a))&&(he=s,ae.dragStart(he,e,i))}}).bind("dragstop",function(t,e){he&&(ae.dragStop(he,t,e),he=null)})}function s(e,i){function n(){d=i.theme?"ui":"fc";var e=i.header;return e?f=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(o("left")).append(o("center")).append(o("right"))):void 0}function s(){f.remove()}function o(n){var s=t("<td class='fc-header-"+n+"'/>"),o=i.header[n];return o&&t.each(o.split(" "),function(n){n>0&&s.append("<span class='fc-header-space'/>");var o;t.each(this.split(","),function(n,a){if("title"==a)s.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(d+"-corner-right"),o=null;else{var r;if(e[a]?r=e[a]:Me[a]&&(r=function(){c.removeClass(d+"-state-hover"),e.changeView(a)}),r){var l=i.theme?P(i.buttonIcons,a):null,h=P(i.buttonText,a),c=t("<span class='fc-button fc-button-"+a+" "+d+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/>"+"</span>":h)+"</span>").click(function(){c.hasClass(d+"-state-disabled")||r()}).mousedown(function(){c.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-down")}).mouseup(function(){c.removeClass(d+"-state-down")}).hover(function(){c.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-hover")},function(){c.removeClass(d+"-state-hover").removeClass(d+"-state-down")}).appendTo(s);I(c),o||c.addClass(d+"-corner-left"),o=c}}}),o&&o.addClass(d+"-corner-right")}),s}function a(t){f.find("h2").html(t)}function r(t){f.find("span.fc-button-"+t).addClass(d+"-state-active")}function l(t){f.find("span.fc-button-"+t).removeClass(d+"-state-active")}function h(t){f.find("span.fc-button-"+t).addClass(d+"-state-disabled")}function c(t){f.find("span.fc-button-"+t).removeClass(d+"-state-disabled")}var u=this;u.render=n,u.destroy=s,u.updateTitle=a,u.activateButton=r,u.deactivateButton=l,u.disableButton=h,u.enableButton=c;var d,f=t([])}function o(i,n){function s(t,e){return!T||T>t||e>M}function o(t,e){T=t,M=e,N=[];var i=++U,n=_.length;F=n;for(var s=0;n>s;s++)a(_[s],i)}function a(e,n){r(e,function(s){if(n==U){if(s){i.eventDataTransform&&(s=t.map(s,i.eventDataTransform)),e.eventDataTransform&&(s=t.map(s,e.eventDataTransform));for(var o=0;o<s.length;o++)s[o].source=e,w(s[o]);N=N.concat(s)}F--,F||$(N)}})}function r(e,n){var s,o,a=Te.sourceFetchers;for(s=0;s<a.length;s++){if(o=a[s](e,T,M,n),o===!0)return;if("object"==typeof o)return r(o,n),void 0}var l=e.events;if(l)t.isFunction(l)?(v(),l(d(T),d(M),function(t){n(t),y()})):t.isArray(l)?n(l):n();else{var h=e.url;if(h){var c,u=e.success,f=e.error,p=e.complete;c=t.isFunction(e.data)?e.data():e.data;var g=t.extend({},c||{}),m=B(e.startParam,i.startParam),w=B(e.endParam,i.endParam);m&&(g[m]=Math.round(+T/1e3)),w&&(g[w]=Math.round(+M/1e3)),v(),t.ajax(t.extend({},xe,e,{data:g,success:function(e){e=e||[];var i=z(u,this,arguments);t.isArray(i)&&(e=i),n(e)},error:function(){z(f,this,arguments),n()},complete:function(){z(p,this,arguments),y()}}))}else n()}}function l(t){t=h(t),t&&(F++,a(t,U))}function h(e){return t.isFunction(e)||t.isArray(e)?e={events:e}:"string"==typeof e&&(e={url:e}),"object"==typeof e?(b(e),_.push(e),e):void 0}function c(e){_=t.grep(_,function(t){return!C(t,e)}),N=t.grep(N,function(t){return!C(t.source,e)}),$(N)}function u(t){var e,i,n=N.length,s=S().defaultEventEnd,o=t.start-t._start,a=t.end?t.end-(t._end||s(t)):0;for(e=0;n>e;e++)i=N[e],i._id==t._id&&i!=t&&(i.start=new Date(+i.start+o),i.end=t.end?i.end?new Date(+i.end+a):new Date(+s(i)+a):null,i.title=t.title,i.url=t.url,i.allDay=t.allDay,i.className=t.className,i.editable=t.editable,i.color=t.color,i.backgroundColor=t.backgroundColor,i.borderColor=t.borderColor,i.textColor=t.textColor,w(i));w(t),$(N)}function f(t,e){w(t),t.source||(e&&(E.events.push(t),t.source=E),N.push(t)),$(N)}function p(e){if(e){if(!t.isFunction(e)){var i=e+"";e=function(t){return t._id==i}}N=t.grep(N,e,!0);for(var n=0;n<_.length;n++)t.isArray(_[n].events)&&(_[n].events=t.grep(_[n].events,e,!0))}else{N=[];for(var n=0;n<_.length;n++)t.isArray(_[n].events)&&(_[n].events=[])}$(N)}function g(e){return t.isFunction(e)?t.grep(N,e):e?(e+="",t.grep(N,function(t){return t._id==e})):N}function v(){A++||x("loading",null,!0,S())}function y(){--A||x("loading",null,!1,S())}function w(t){var n=t.source||{},s=B(n.ignoreTimezone,i.ignoreTimezone);t._id=t._id||(t.id===e?"_fc"+Se++:t.id+""),t.date&&(t.start||(t.start=t.date),delete t.date),t._start=d(t.start=m(t.start,s)),t.end=m(t.end,s),t.end&&t.end<=t.start&&(t.end=null),t._end=t.end?d(t.end):null,t.allDay===e&&(t.allDay=B(n.allDayDefault,i.allDayDefault)),t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[]}function b(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=Te.sourceNormalizers,i=0;i<e.length;i++)e[i](t)}function C(t,e){return t&&e&&D(t)==D(e)}function D(t){return("object"==typeof t?t.events||t.url:"")||t}var k=this;k.isFetchNeeded=s,k.fetchEvents=o,k.addEventSource=l,k.removeEventSource=c,k.updateEvent=u,k.renderEvent=f,k.removeEvents=p,k.clientEvents=g,k.normalizeEvent=w;for(var T,M,x=k.trigger,S=k.getView,$=k.reportEvents,E={events:[]},_=[E],U=0,F=0,A=0,N=[],j=0;j<n.length;j++)h(n[j])}function a(t,e,i){return t.setFullYear(t.getFullYear()+e),i||u(t),t}function r(t,e,i){if(+t){var n=t.getMonth()+e,s=d(t);for(s.setDate(1),s.setMonth(n),t.setMonth(n),i||u(t);t.getMonth()!=s.getMonth();)t.setDate(t.getDate()+(s>t?1:-1))}return t}function l(t,e,i){if(+t){var n=t.getDate()+e,s=d(t);s.setHours(9),s.setDate(n),t.setDate(n),i||u(t),h(t,s)}return t}function h(t,e){if(+t)for(;t.getDate()!=e.getDate();)t.setTime(+t+(e>t?1:-1)*_e)}function c(t,e){return t.setMinutes(t.getMinutes()+e),t}function u(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function d(t,e){return e?u(new Date(+t)):new Date(+t)}function f(){var t,e=0;do t=new Date(1970,e++,1);while(t.getHours());return t}function p(t,e){return Math.round((d(t,!0)-d(e,!0))/Ee)}function g(t,i,n,s){i!==e&&i!=t.getFullYear()&&(t.setDate(1),t.setMonth(0),t.setFullYear(i)),n!==e&&n!=t.getMonth()&&(t.setDate(1),t.setMonth(n)),s!==e&&t.setDate(s)}function m(t,i){return"object"==typeof t?t:"number"==typeof t?new Date(1e3*t):"string"==typeof t?t.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(t)):(i===e&&(i=!0),v(t,i)||(t?new Date(t):null)):null}function v(t,e){var i=t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!i)return null;var n=new Date(i[1],0,1);if(e||!i[13]){var s=new Date(i[1],0,1,9,0);i[3]&&(n.setMonth(i[3]-1),s.setMonth(i[3]-1)),i[5]&&(n.setDate(i[5]),s.setDate(i[5])),h(n,s),i[7]&&n.setHours(i[7]),i[8]&&n.setMinutes(i[8]),i[10]&&n.setSeconds(i[10]),i[12]&&n.setMilliseconds(1e3*Number("0."+i[12])),h(n,s)}else if(n.setUTCFullYear(i[1],i[3]?i[3]-1:0,i[5]||1),n.setUTCHours(i[7]||0,i[8]||0,i[10]||0,i[12]?1e3*Number("0."+i[12]):0),i[14]){var o=60*Number(i[16])+(i[18]?Number(i[18]):0);o*="-"==i[15]?1:-1,n=new Date(+n+1e3*60*o)}return n}function y(t){if("number"==typeof t)return 60*t;if("object"==typeof t)return 60*t.getHours()+t.getMinutes();var e=t.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(e){var i=parseInt(e[1],10);return e[3]&&(i%=12,"p"==e[3].toLowerCase().charAt(0)&&(i+=12)),60*i+(e[2]?parseInt(e[2],10):0)}}function w(t,e,i){return b(t,null,e,i)}function b(t,e,i,n){n=n||De;var s,o,a,r,l=t,h=e,c=i.length,u="";for(s=0;c>s;s++)if(o=i.charAt(s),"'"==o){for(a=s+1;c>a;a++)if("'"==i.charAt(a)){l&&(u+=a==s+1?"'":i.substring(s+1,a),s=a);break}}else if("("==o){for(a=s+1;c>a;a++)if(")"==i.charAt(a)){var d=w(l,i.substring(s+1,a),n);parseInt(d.replace(/\D/,""),10)&&(u+=d),s=a;break}}else if("["==o){for(a=s+1;c>a;a++)if("]"==i.charAt(a)){var f=i.substring(s+1,a),d=w(l,f,n);d!=w(h,f,n)&&(u+=d),s=a;break}}else if("{"==o)l=e,h=t;else if("}"==o)l=t,h=e;else{for(a=c;a>s;a--)if(r=Fe[i.substring(s,a)]){l&&(u+=r(l,n)),s=a-1;break}a==s&&l&&(u+=o)}return u}function C(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1}function D(t){return t.end?k(t.end,t.allDay):l(d(t.start),1)}function k(t,e){return t=d(t),e||t.getHours()||t.getMinutes()?l(t,1):u(t)}function T(i,n,s){i.unbind("mouseover").mouseover(function(i){for(var o,a,r,l=i.target;l!=this;)o=l,l=l.parentNode;(a=o._fci)!==e&&(o._fci=e,r=n[a],s(r.event,r.element,r),t(i.target).trigger(i)),i.stopPropagation()})}function M(e,i,n){for(var s,o=0;o<e.length;o++)s=t(e[o]),s.width(Math.max(0,i-S(s,n)))}function x(e,i,n){for(var s,o=0;o<e.length;o++)s=t(e[o]),s.height(Math.max(0,i-U(s,n)))}function S(t,e){return $(t)+_(t)+(e?E(t):0)}function $(e){return(parseFloat(t.css(e[0],"paddingLeft",!0))||0)+(parseFloat(t.css(e[0],"paddingRight",!0))||0)}function E(e){return(parseFloat(t.css(e[0],"marginLeft",!0))||0)+(parseFloat(t.css(e[0],"marginRight",!0))||0)}function _(e){return(parseFloat(t.css(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(e[0],"borderRightWidth",!0))||0)}function U(t,e){return F(t)+N(t)+(e?A(t):0)}function F(e){return(parseFloat(t.css(e[0],"paddingTop",!0))||0)+(parseFloat(t.css(e[0],"paddingBottom",!0))||0)}function A(e){return(parseFloat(t.css(e[0],"marginTop",!0))||0)+(parseFloat(t.css(e[0],"marginBottom",!0))||0)}function N(e){return(parseFloat(t.css(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(e[0],"borderBottomWidth",!0))||0)}function j(){}function O(t,e){return t-e}function H(t){return Math.max.apply(Math,t)}function L(t){return(10>t?"0":"")+t}function P(t,i){if(t[i]!==e)return t[i];for(var n,s=i.split(/(?=[A-Z])/),o=s.length-1;o>=0;o--)if(n=t[s[o].toLowerCase()],n!==e)return n;return t[""]}function V(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function I(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function W(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function R(t,e){var i=t.source||{},n=t.color,s=i.color,o=e("eventColor"),a=t.backgroundColor||n||i.backgroundColor||s||e("eventBackgroundColor")||o,r=t.borderColor||n||i.borderColor||s||e("eventBorderColor")||o,l=t.textColor||i.textColor||e("eventTextColor"),h=[];return a&&h.push("background-color:"+a),r&&h.push("border-color:"+r),l&&h.push("color:"+l),h.join(";")}function z(e,i,n){if(t.isFunction(e)&&(e=[e]),e){var s,o;for(s=0;s<e.length;s++)o=e[s].apply(i,n)||o;return o}}function B(){for(var t=0;t<arguments.length;t++)if(arguments[t]!==e)return arguments[t]}function q(t,e){function i(t,e){e&&(r(t,e),t.setDate(1));var i=s("firstDay"),u=d(t,!0);u.setDate(1);var f=r(d(u),1),g=d(u);l(g,-((g.getDay()-i+7)%7)),a(g);var m=d(f);l(m,(7-m.getDay()+i)%7),a(m,-1,!0);var v=h(),y=Math.round(p(m,g)/7);"fixed"==s("weekMode")&&(l(m,7*(6-y)),y=6),n.title=c(u,s("titleFormat")),n.start=u,n.end=f,n.visStart=g,n.visEnd=m,o(y,v,!0)}var n=this;n.render=i,J.call(n,t,e,"month");var s=n.opt,o=n.renderBasic,a=n.skipHiddenDays,h=n.getCellsPerWeek,c=e.formatDate}function Y(t,e){function i(t,e){e&&l(t,7*e);var i=l(d(t),-((t.getDay()-s("firstDay")+7)%7)),c=l(d(i),7),u=d(i);a(u);var f=d(c);a(f,-1,!0);var p=r();n.start=i,n.end=c,n.visStart=u,n.visEnd=f,n.title=h(u,l(d(f),-1),s("titleFormat")),o(1,p,!1)}var n=this;n.render=i,J.call(n,t,e,"basicWeek");var s=n.opt,o=n.renderBasic,a=n.skipHiddenDays,r=n.getCellsPerWeek,h=e.formatDates}function Q(t,e){function i(t,e){e&&l(t,e),a(t,0>e?-1:1);var i=d(t,!0),h=l(d(i),1);n.title=r(t,s("titleFormat")),n.start=n.visStart=i,n.end=n.visEnd=h,o(1,1,!1)}var n=this;n.render=i,J.call(n,t,e,"basicDay");var s=n.opt,o=n.renderBasic,a=n.skipHiddenDays,r=e.formatDate}function J(e,i,n){function s(t,e,i){ee=t,ie=e,ne=i,o(),R||a(),r()}function o(){le=pe("theme")?"ui":"fc",he=pe("columnFormat"),ce=pe("weekNumbers"),de=pe("weekNumberTitle"),fe="iso"!=pe("weekNumberCalculation")?"w":"W"}function a(){J=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function r(){var i=h();H&&H.remove(),H=t(i).appendTo(e),L=H.find("thead"),P=L.find(".fc-day-header"),R=H.find("tbody"),z=R.find("tr"),B=R.find(".fc-day"),q=z.find("td:first-child"),Y=z.eq(0).find(".fc-day > div"),Q=z.eq(0).find(".fc-day-content > div"),W(L.add(L.find("tr"))),W(z),z.eq(0).addClass("fc-first"),z.filter(":last").addClass("fc-last"),B.each(function(e,i){var n=Te(Math.floor(e/ie),e%ie);ge("dayRender",O,n,t(i))}),y(B)}function h(){var t="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+c()+f()+"</table>";return t}function c(){var t,e,i=le+"-widget-header",n="";for(n+="<thead><tr>",ce&&(n+="<th class='fc-week-number "+i+"'>"+V(de)+"</th>"),t=0;ie>t;t++)e=Te(0,t),n+="<th class='fc-day-header fc-"+$e[e.getDay()]+" "+i+"'>"+V(Se(e,he))+"</th>";return n+="</tr></thead>"}function f(){var t,e,i,n=le+"-widget-content",s="";for(s+="<tbody>",t=0;ee>t;t++){for(s+="<tr class='fc-week'>",ce&&(i=Te(t,0),s+="<td class='fc-week-number "+n+"'>"+"<div>"+V(Se(i,fe))+"</div>"+"</td>"),e=0;ie>e;e++)i=Te(t,e),s+=p(i);s+="</tr>"}return s+="</tbody>"}function p(t){var e=le+"-widget-content",i=O.start.getMonth(),n=u(new Date),s="",o=["fc-day","fc-"+$e[t.getDay()],e];return t.getMonth()!=i&&o.push("fc-other-month"),+t==+n?o.push("fc-today",le+"-state-highlight"):n>t?o.push("fc-past"):o.push("fc-future"),s+="<td class='"+o.join(" ")+"'"+" data-date='"+Se(t,"yyyy-MM-dd")+"'"+">"+"<div>",ne&&(s+="<div class='fc-day-number'>"+t.getDate()+"</div>"),s+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(e){X=e;var i,n,s,o=X-L.height();"variable"==pe("weekMode")?i=n=Math.floor(o/(1==ee?2:6)):(i=Math.floor(o/ee),n=o-i*(ee-1)),q.each(function(e,o){ee>e&&(s=t(o),s.find("> div").css("min-height",(e==ee-1?n:i)-U(s)))})}function m(t){G=t,ae.clear(),re.clear(),te=0,ce&&(te=L.find("th.fc-week-number").outerWidth()),Z=Math.floor((G-te)/ie),M(P.slice(0,-1),Z)}function y(t){t.click(w).mousedown(ke)}function w(e){if(!pe("selectable")){var i=v(t(this).data("date"));ge("dayClick",this,i,!0,e)}}function b(t,e,i){i&&se.build();for(var n=xe(t,e),s=0;s<n.length;s++){var o=n[s];y(C(o.row,o.leftCol,o.row,o.rightCol))}}function C(t,i,n,s){var o=se.rect(t,i,n,s,e);return be(o,e)}function D(t){return d(t)}function k(t,e){b(t,l(d(e),1),!0)}function T(){De()}function x(t,e,i){var n=Me(t),s=B[n.row*ie+n.col];ge("dayClick",s,t,e,i)}function S(t,e){oe.start(function(t){De(),t&&C(t.row,t.col,t.row,t.col)},e)}function $(t,e,i){var n=oe.stop();if(De(),n){var s=Te(n);ge("drop",t,s,!0,e,i)}}function E(t){return d(t.start)}function _(t){return ae.left(t)}function F(t){return ae.right(t)}function A(t){return re.left(t)}function N(t){return re.right(t)}function j(t){return z.eq(t)}var O=this;O.renderBasic=s,O.setHeight=g,O.setWidth=m,O.renderDayOverlay=b,O.defaultSelectionEnd=D,O.renderSelection=k,O.clearSelection=T,O.reportDayClick=x,O.dragStart=S,O.dragStop=$,O.defaultEventEnd=E,O.getHoverListener=function(){return oe},O.colLeft=_,O.colRight=F,O.colContentLeft=A,O.colContentRight=N,O.getIsCellAllDay=function(){return!0},O.allDayRow=j,O.getRowCnt=function(){return ee},O.getColCnt=function(){return ie},O.getColWidth=function(){return Z},O.getDaySegmentContainer=function(){return J},ue.call(O,e,i,n),ve.call(O),me.call(O),K.call(O);var H,L,P,R,z,B,q,Y,Q,J,G,X,Z,te,ee,ie,ne,se,oe,ae,re,le,he,ce,de,fe,pe=O.opt,ge=O.trigger,be=O.renderOverlay,De=O.clearOverlays,ke=O.daySelectionMousedown,Te=O.cellToDate,Me=O.dateToCell,xe=O.rangeToSegments,Se=i.formatDate;I(e.addClass("fc-grid")),se=new ye(function(e,i){var n,s,o;P.each(function(e,a){n=t(a),s=n.offset().left,e&&(o[1]=s),o=[s],i[e]=o}),o[1]=s+n.outerWidth(),z.each(function(i,a){ee>i&&(n=t(a),s=n.offset().top,i&&(o[1]=s),o=[s],e[i]=o)}),o[1]=s+n.outerHeight()}),oe=new we(se),ae=new Ce(function(t){return Y.eq(t)}),re=new Ce(function(t){return Q.eq(t)})}function K(){function t(t,e){i.renderDayEvents(t,e)}function e(){i.getDaySegmentContainer().empty()}var i=this;i.renderEvents=t,i.clearEvents=e,de.call(i)}function G(t,e){function i(t,e){e&&l(t,7*e);var i=l(d(t),-((t.getDay()-s("firstDay")+7)%7)),c=l(d(i),7),u=d(i);a(u);var f=d(c);a(f,-1,!0);var p=r();n.title=h(u,l(d(f),-1),s("titleFormat")),n.start=i,n.end=c,n.visStart=u,n.visEnd=f,o(p)}var n=this;n.render=i,Z.call(n,t,e,"agendaWeek");var s=n.opt,o=n.renderAgenda,a=n.skipHiddenDays,r=n.getCellsPerWeek,h=e.formatDates}function X(t,e){function i(t,e){e&&l(t,e),a(t,0>e?-1:1);var i=d(t,!0),h=l(d(i),1);n.title=r(t,s("titleFormat")),n.start=n.visStart=i,n.end=n.visEnd=h,o(1)}var n=this;n.render=i,Z.call(n,t,e,"agendaDay");var s=n.opt,o=n.renderAgenda,a=n.skipHiddenDays,r=e.formatDate}function Z(i,n,s){function o(t){Ne=t,a(),Z?h():r()}function a(){Ve=Qe("theme")?"ui":"fc",Ie=Qe("isRTL"),We=y(Qe("minTime")),Re=y(Qe("maxTime")),ze=Qe("columnFormat"),Be=Qe("weekNumbers"),qe=Qe("weekNumberTitle"),Ye="iso"!=Qe("weekNumberCalculation")?"w":"W",Ue=Qe("snapMinutes")||Qe("slotMinutes")}function r(){var e,n,s,o,a,r=Ve+"-widget-header",l=Ve+"-widget-content",u=0==Qe("slotMinutes")%15;for(h(),he=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(i),Qe("allDaySlot")?(ce=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(he),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+r+" fc-agenda-axis'>"+Qe("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+r+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",de=t(e).appendTo(he),fe=de.find("tr"),D(fe.find("td")),he.append("<div class='fc-agenda-divider "+r+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):ce=t([]),pe=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(he),ge=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(pe),be=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ge),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",n=f(),o=c(d(n),Re),c(n,We),je=0,s=0;o>n;s++)a=n.getMinutes(),e+="<tr class='fc-slot"+s+" "+(a?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+r+"'>"+(u&&a?"&nbsp;":oi(n,Qe("axisFormat")))+"</th>"+"<td class='"+l+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",c(n,Qe("slotMinutes")),je++;e+="</tbody></table>",De=t(e).appendTo(ge),k(De.find("td"))}function h(){var e=p();Z&&Z.remove(),Z=t(e).appendTo(i),ee=Z.find("thead"),ie=ee.find("th").slice(1,-1),ne=Z.find("tbody"),se=ne.find("td").slice(0,-1),oe=se.find("> div"),ae=se.find(".fc-day-content > div"),re=se.eq(0),le=oe.eq(0),W(ee.add(ee.find("tr"))),W(ne.add(ne.find("tr")))}function p(){var t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+m()+"</table>";return t}function g(){var t,e,i,n=Ve+"-widget-header",s="";for(s+="<thead><tr>",Be?(t=ii(0,0),e=oi(t,Ye),Ie?e+=qe:e=qe+e,s+="<th class='fc-agenda-axis fc-week-number "+n+"'>"+V(e)+"</th>"):s+="<th class='fc-agenda-axis "+n+"'>&nbsp;</th>",i=0;Ne>i;i++)t=ii(0,i),s+="<th class='fc-"+$e[t.getDay()]+" fc-col"+i+" "+n+"'>"+V(oi(t,ze))+"</th>";return s+="<th class='fc-agenda-gutter "+n+"'>&nbsp;</th>"+"</tr>"+"</thead>"}function m(){var t,e,i,n,s,o=Ve+"-widget-header",a=Ve+"-widget-content",r=u(new Date),l="";for(l+="<tbody><tr><th class='fc-agenda-axis "+o+"'>&nbsp;</th>",i="",e=0;Ne>e;e++)t=ii(0,e),s=["fc-col"+e,"fc-"+$e[t.getDay()],a],+t==+r?s.push(Ve+"-state-highlight","fc-today"):r>t?s.push("fc-past"):s.push("fc-future"),n="<td class='"+s.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",i+=n;return l+=i,l+="<td class='fc-agenda-gutter "+a+"'>&nbsp;</td>"+"</tr>"+"</tbody>"}function v(t){t===e&&(t=Me),Me=t,ai={};var i=ne.position().top,n=pe.position().top,s=Math.min(t-i,De.height()+n+1);le.height(s-U(re)),he.css("top",i),pe.height(s-n-1),_e=De.find("tr:first").height()+1,Fe=Qe("slotMinutes")/Ue,Ae=_e/Fe}function w(e){Te=e,Le.clear(),Pe.clear();var i=ee.find("th:first");de&&(i=i.add(de.find("th:first"))),i=i.add(De.find("th:first")),xe=0,M(i.width("").each(function(e,i){xe=Math.max(xe,t(i).outerWidth())}),xe);var n=Z.find(".fc-agenda-gutter");de&&(n=n.add(de.find("th.fc-agenda-gutter")));var s=pe[0].clientWidth;Ee=pe.width()-s,Ee?(M(n,Ee),n.show().prev().removeClass("fc-last")):n.hide().prev().addClass("fc-last"),Se=Math.floor((s-xe)/Ne),M(ie.slice(0,-1),Se)}function b(){function t(){pe.scrollTop(n)}var e=f(),i=d(e);i.setHours(Qe("firstHour"));var n=L(e,i)+1;t(),setTimeout(t,0)}function C(){b()}function D(t){t.click(T).mousedown(ti)}function k(t){t.click(T).mousedown(Q)}function T(t){if(!Qe("selectable")){var e=Math.min(Ne-1,Math.floor((t.pageX-Z.offset().left-xe)/Se)),i=ii(0,e),n=this.parentNode.className.match(/fc-slot(\d+)/);if(n){var s=parseInt(n[1])*Qe("slotMinutes"),o=Math.floor(s/60);i.setHours(o),i.setMinutes(s%60+We),Je("dayClick",se[e],i,!1,t)}else Je("dayClick",se[e],i,!0,t)}}function S(t,e,i){i&&Oe.build();for(var n=si(t,e),s=0;s<n.length;s++){var o=n[s];D($(o.row,o.leftCol,o.row,o.rightCol))}}function $(t,e,i,n){var s=Oe.rect(t,e,i,n,he);return Ke(s,he)}function E(t,e){for(var i=0;Ne>i;i++){var n=ii(0,i),s=l(d(n),1),o=new Date(Math.max(n,t)),a=new Date(Math.min(s,e));if(a>o){var r=Oe.rect(0,i,0,i,ge),h=L(n,o),c=L(n,a);r.top=h,r.height=c-h,k(Ke(r,ge))}}}function _(t){return Le.left(t)}function F(t){return Pe.left(t)}function A(t){return Le.right(t)}function N(t){return Pe.right(t)}function j(t){return Qe("allDaySlot")&&!t.row}function H(t){var e=ii(0,t.col),i=t.row;return Qe("allDaySlot")&&i--,i>=0&&c(e,We+i*Ue),e}function L(t,i){if(t=d(t,!0),i<c(d(t),We))return 0;if(i>=c(d(t),Re))return De.height();var n=Qe("slotMinutes"),s=60*i.getHours()+i.getMinutes()-We,o=Math.floor(s/n),a=ai[o];return a===e&&(a=ai[o]=De.find("tr").eq(o).find("td div")[0].offsetTop),Math.max(0,Math.round(a-1+_e*(s%n/n)))}function P(){return fe}function R(t){var e=d(t.start);return t.allDay?e:c(e,Qe("defaultEventMinutes"))}function z(t,e){return e?d(t):c(d(t),Qe("slotMinutes"))}function B(t,e,i){i?Qe("allDaySlot")&&S(t,l(d(e),1),!0):q(t,e)}function q(e,i){var n=Qe("selectHelper");if(Oe.build(),n){var s=ni(e).col;if(s>=0&&Ne>s){var o=Oe.rect(0,s,0,s,ge),a=L(e,e),r=L(e,i);if(r>a){if(o.top=a,o.height=r-a,o.left+=2,o.width-=5,t.isFunction(n)){var l=n(e,i);l&&(o.position="absolute",ke=t(l).css(o).appendTo(ge))}else o.isStart=!0,o.isEnd=!0,ke=t(ei({title:"",start:e,end:i,className:["fc-select-helper"],editable:!1},o)),ke.css("opacity",Qe("dragOpacity"));ke&&(k(ke),ge.append(ke),M(ke,o.width,!0),x(ke,o.height,!0))}}}else E(e,i)}function Y(){Ge(),ke&&(ke.remove(),ke=null)}function Q(e){if(1==e.which&&Qe("selectable")){Ze(e);var i;He.start(function(t,e){if(Y(),t&&t.col==e.col&&!j(t)){var n=H(e),s=H(t);i=[n,c(d(n),Ue),s,c(d(s),Ue)].sort(O),q(i[0],i[3])}else i=null},e),t(document).one("mouseup",function(t){He.stop(),i&&(+i[0]==+i[1]&&J(i[0],!1,t),Xe(i[0],i[3],!1,t))})}}function J(t,e,i){Je("dayClick",se[ni(t).col],t,e,i)}function K(t,e){He.start(function(t){if(Ge(),t)if(j(t))$(t.row,t.col,t.row,t.col);else{var e=H(t),i=c(d(e),Qe("defaultEventMinutes"));E(e,i)}},e)}function G(t,e,i){var n=He.stop();Ge(),n&&Je("drop",t,H(n),j(n),e,i)}var X=this;X.renderAgenda=o,X.setWidth=w,X.setHeight=v,X.afterRender=C,X.defaultEventEnd=R,X.timePosition=L,X.getIsCellAllDay=j,X.allDayRow=P,X.getCoordinateGrid=function(){return Oe},X.getHoverListener=function(){return He},X.colLeft=_,X.colRight=A,X.colContentLeft=F,X.colContentRight=N,X.getDaySegmentContainer=function(){return ce},X.getSlotSegmentContainer=function(){return be},X.getMinMinute=function(){return We},X.getMaxMinute=function(){return Re},X.getSlotContainer=function(){return ge},X.getRowCnt=function(){return 1},X.getColCnt=function(){return Ne},X.getColWidth=function(){return Se},X.getSnapHeight=function(){return Ae},X.getSnapMinutes=function(){return Ue},X.defaultSelectionEnd=z,X.renderDayOverlay=S,X.renderSelection=B,X.clearSelection=Y,X.reportDayClick=J,X.dragStart=K,X.dragStop=G,ue.call(X,i,n,s),ve.call(X),me.call(X),te.call(X);var Z,ee,ie,ne,se,oe,ae,re,le,he,ce,de,fe,pe,ge,be,De,ke,Te,Me,xe,Se,Ee,_e,Ue,Fe,Ae,Ne,je,Oe,He,Le,Pe,Ve,Ie,We,Re,ze,Be,qe,Ye,Qe=X.opt,Je=X.trigger,Ke=X.renderOverlay,Ge=X.clearOverlays,Xe=X.reportSelection,Ze=X.unselect,ti=X.daySelectionMousedown,ei=X.slotSegHtml,ii=X.cellToDate,ni=X.dateToCell,si=X.rangeToSegments,oi=n.formatDate,ai={};I(i.addClass("fc-agenda")),Oe=new ye(function(e,i){function n(t){return Math.max(l,Math.min(h,t))}var s,o,a;ie.each(function(e,n){s=t(n),o=s.offset().left,e&&(a[1]=o),a=[o],i[e]=a}),a[1]=o+s.outerWidth(),Qe("allDaySlot")&&(s=fe,o=s.offset().top,e[0]=[o,o+s.outerHeight()]);for(var r=ge.offset().top,l=pe.offset().top,h=l+pe.outerHeight(),c=0;je*Fe>c;c++)e.push([n(r+Ae*c),n(r+Ae*(c+1))])}),He=new we(Oe),Le=new Ce(function(t){return oe.eq(t)}),Pe=new Ce(function(t){return ae.eq(t)})}function te(){function i(t,e){var i,n=t.length,o=[],a=[];for(i=0;n>i;i++)t[i].allDay?o.push(t[i]):a.push(t[i]);y("allDaySlot")&&(te(o,e),$()),r(s(a),e)}function n(){E().empty(),_().empty()}function s(e){var i,n,s,r,l,h=I(),u=N(),f=A(),p=t.map(e,a),g=[];for(n=0;h>n;n++)for(i=P(0,n),c(i,u),l=o(e,p,i,c(d(i),f-u)),l=ee(l),s=0;s<l.length;s++)r=l[s],r.col=n,g.push(r);return g}function o(t,e,i,n){var s,o,a,r,l,h,c,u,f=[],p=t.length;for(s=0;p>s;s++)o=t[s],a=o.start,r=e[s],r>i&&n>a&&(i>a?(l=d(i),c=!1):(l=a,c=!0),r>n?(h=d(n),u=!1):(h=r,u=!0),f.push({event:o,start:l,end:h,isStart:c,isEnd:u}));return f.sort(ce)}function a(t){return t.end?d(t.end):c(d(t.start),y("defaultEventMinutes"))}function r(i,n){var s,o,a,r,l,c,d,f,p,g,m,v,b,C,D,k,M=i.length,x="",$=_(),E=y("isRTL");for(s=0;M>s;s++)o=i[s],a=o.event,r=j(o.start,o.start),l=j(o.start,o.end),c=H(o.col),d=L(o.col),f=d-c,d-=.025*f,f=d-c,p=f*(o.forwardCoord-o.backwardCoord),y("slotEventOverlap")&&(p=Math.max(2*(p-10),p)),E?(m=d-o.backwardCoord*f,g=m-p):(g=c+o.backwardCoord*f,m=g+p),g=Math.max(g,c),m=Math.min(m,d),p=m-g,o.top=r,o.left=g,o.outerWidth=p,o.outerHeight=l-r,x+=h(a,o);for($[0].innerHTML=x,v=$.children(),s=0;M>s;s++)o=i[s],a=o.event,b=t(v[s]),C=w("eventRender",a,a,b),C===!1?b.remove():(C&&C!==!0&&(b.remove(),b=t(C).css({position:"absolute",top:o.top,left:o.left}).appendTo($)),o.element=b,a._id===n?u(a,b,o):b[0]._fci=s,Y(a,b));for(T($,i,u),s=0;M>s;s++)o=i[s],(b=o.element)&&(o.vsides=U(b,!0),o.hsides=S(b,!0),D=b.find(".fc-event-title"),D.length&&(o.contentTop=D[0].offsetTop));for(s=0;M>s;s++)o=i[s],(b=o.element)&&(b[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",k=Math.max(0,o.outerHeight-o.vsides),b[0].style.height=k+"px",a=o.event,o.contentTop!==e&&k-o.contentTop<10&&(b.find("div.fc-event-time").text(ne(a.start,y("timeFormat"))+" - "+a.title),b.find("div.fc-event-title").remove()),w("eventAfterRender",a,a,b))}function h(t,e){var i="<",n=t.url,s=R(t,y),o=["fc-event","fc-event-vert"];return b(t)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(t.className),t.source&&(o=o.concat(t.source.className||[])),i+=n?"a href='"+V(t.url)+"'":"div",i+=" class='"+o.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+e.top+"px;"+"left:"+e.left+"px;"+s+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+V(se(t.start,t.end,y("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+V(t.title||"")+"</div>"+"<div class='fc-event-register'>"+"<button class='btn btn-default btn-xs'>Register</button>"+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",e.isEnd&&C(t)&&(i+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),i+="</"+(n?"a":"div")+">"}function u(t,e,i){var n=e.find("div.fc-event-time");b(t)&&g(t,e,n),i.isEnd&&C(t)&&m(t,e,n),M(t,e)}function f(t,e,i){function n(){h||(e.width(s).height("").draggable("option","grid",null),h=!0)}var s,o,a,r=i.isStart,h=!0,c=F(),u=W(),f=z(),g=B(),m=N();e.draggable({opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(i,m){w("eventDragStart",e,t,i,m),J(t,e),s=e.width(),c.start(function(i,s){if(Z(),i){o=!1;var c=P(0,s.col),m=P(0,i.col);a=p(m,c),i.row?r?h&&(e.width(u-10),x(e,f*Math.round((t.end?(t.end-t.start)/Ue:y("defaultEventMinutes"))/g)),e.draggable("option","grid",[u,1]),h=!1):o=!0:(X(l(d(t.start),a),l(D(t),a)),n()),o=o||h&&!a}else n(),o=!0;e.draggable("option","revert",o)},i,"drag")},stop:function(i,s){if(c.stop(),Z(),w("eventDragStop",e,t,i,s),o)n(),e.css("filter",""),Q(t,e);else{var r=0;h||(r=Math.round((e.offset().top-q().offset().top)/f)*g+m-(60*t.start.getHours()+t.start.getMinutes())),K(this,t,a,r,h,i,s)}}})}function g(t,e,i){function n(){Z(),r&&(u?(i.hide(),e.draggable("option","grid",null),X(l(d(t.start),b),l(D(t),b))):(s(C),i.css("display",""),e.draggable("option","grid",[x,S])))}function s(e){var n,s=c(d(t.start),e);
t.end&&(n=c(d(t.end),e)),i.text(se(s,n,y("timeFormat")))}var o,a,r,h,u,f,g,m,b,C,k,T=v.getCoordinateGrid(),M=I(),x=W(),S=z(),$=B();e.draggable({scroll:!1,grid:[x,S],axis:1==M?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(i,n){w("eventDragStart",e,t,i,n),J(t,e),T.build(),o=e.position(),a=T.cell(i.pageX,i.pageY),r=h=!0,u=f=O(a),g=m=0,b=0,C=k=0},drag:function(t,i){var s=T.cell(t.pageX,t.pageY);if(r=!!s){if(u=O(s),g=Math.round((i.position.left-o.left)/x),g!=m){var l=P(0,a.col),c=a.col+g;c=Math.max(0,c),c=Math.min(M-1,c);var d=P(0,c);b=p(d,l)}u||(C=Math.round((i.position.top-o.top)/S)*$)}(r!=h||u!=f||g!=m||C!=k)&&(n(),h=r,f=u,m=g,k=C),e.draggable("option","revert",!r)},stop:function(i,s){Z(),w("eventDragStop",e,t,i,s),r&&(u||b||C)?K(this,t,b,u?0:C,u,i,s):(r=!0,u=!1,g=0,b=0,C=0,n(),e.css("filter",""),e.css(o),Q(t,e))}})}function m(t,e,i){var n,s,o=z(),a=B();e.resizable({handles:{s:".ui-resizable-handle"},grid:o,start:function(i,o){n=s=0,J(t,e),w("eventResizeStart",this,t,i,o)},resize:function(r,l){n=Math.round((Math.max(o,e.height())-l.originalSize.height)/o),n!=s&&(i.text(se(t.start,n||t.end?c(k(t),a*n):null,y("timeFormat"))),s=n)},stop:function(i,s){w("eventResizeStop",this,t,i,s),n?G(this,t,0,a*n,i,s):Q(t,e)}})}var v=this;v.renderEvents=i,v.clearEvents=n,v.slotSegHtml=h,de.call(v);var y=v.opt,w=v.trigger,b=v.isEventDraggable,C=v.isEventResizable,k=v.eventEnd,M=v.eventElementHandlers,$=v.setHeight,E=v.getDaySegmentContainer,_=v.getSlotSegmentContainer,F=v.getHoverListener,A=v.getMaxMinute,N=v.getMinMinute,j=v.timePosition,O=v.getIsCellAllDay,H=v.colContentLeft,L=v.colContentRight,P=v.cellToDate,I=v.getColCnt,W=v.getColWidth,z=v.getSnapHeight,B=v.getSnapMinutes,q=v.getSlotContainer,Y=v.reportEventElement,Q=v.showEvents,J=v.hideEvents,K=v.eventDrop,G=v.eventResize,X=v.renderDayOverlay,Z=v.clearOverlays,te=v.renderDayEvents,ie=v.calendar,ne=ie.formatDate,se=ie.formatDates;v.draggableDayEvent=f}function ee(t){var e,i=ie(t),n=i[0];if(ne(i),n){for(e=0;e<n.length;e++)se(n[e]);for(e=0;e<n.length;e++)oe(n[e],0,0)}return ae(i)}function ie(t){var e,i,n,s=[];for(e=0;e<t.length;e++){for(i=t[e],n=0;n<s.length&&re(i,s[n]).length;n++);(s[n]||(s[n]=[])).push(i)}return s}function ne(t){var e,i,n,s,o;for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++)for(s=i[n],s.forwardSegs=[],o=e+1;o<t.length;o++)re(s,t[o],s.forwardSegs)}function se(t){var i,n,s=t.forwardSegs,o=0;if(t.forwardPressure===e){for(i=0;i<s.length;i++)n=s[i],se(n),o=Math.max(o,1+n.forwardPressure);t.forwardPressure=o}}function oe(t,i,n){var s,o=t.forwardSegs;if(t.forwardCoord===e)for(o.length?(o.sort(he),oe(o[0],i+1,n),t.forwardCoord=o[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(i+1),s=0;s<o.length;s++)oe(o[s],0,t.forwardCoord)}function ae(t){var e,i,n,s=[];for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++)s.push(i[n]);return s}function re(t,e,i){i=i||[];for(var n=0;n<e.length;n++)le(t,e[n])&&i.push(e[n]);return i}function le(t,e){return t.end>e.start&&t.start<e.end}function he(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||ce(t,e)}function ce(t,e){return t.start-e.start||e.end-e.start-(t.end-t.start)||(t.event.title||"").localeCompare(e.event.title)}function ue(i,n,s){function o(e,i){var n=Y[e];return t.isPlainObject(n)?P(n,i||s):n}function a(t,e){return n.trigger.apply(n,[t,e||L].concat(Array.prototype.slice.call(arguments,2),[L]))}function r(t){var e=t.source||{};return B(t.startEditable,e.startEditable,o("eventStartEditable"),t.editable,e.editable,o("editable"))&&!o("disableDragging")}function h(t){var e=t.source||{};return B(t.durationEditable,e.durationEditable,o("eventDurationEditable"),t.editable,e.editable,o("editable"))&&!o("disableResizing")}function u(t){R={};var e,i,n=t.length;for(e=0;n>e;e++)i=t[e],R[i._id]?R[i._id].push(i):R[i._id]=[i]}function f(){R={},z={},q=[]}function g(t){return t.end?d(t.end):V(t)}function m(t,e){q.push({event:t,element:e}),z[t._id]?z[t._id].push(e):z[t._id]=[e]}function v(){t.each(q,function(t,e){L.trigger("eventDestroy",e.event,e.event,e.element)})}function y(t,e){e.click(function(i){return e.hasClass("ui-draggable-dragging")||e.hasClass("ui-resizable-resizing")?void 0:a("eventClick",this,t,i)}).hover(function(e){a("eventMouseover",this,t,e)},function(e){a("eventMouseout",this,t,e)})}function w(t,e){C(t,e,"show")}function b(t,e){C(t,e,"hide")}function C(t,e,i){var n,s=z[t._id],o=s.length;for(n=0;o>n;n++)e&&s[n][0]==e[0]||s[n][i]()}function D(t,e,i,n,s,o,r){var l=e.allDay,h=e._id;T(R[h],i,n,s),a("eventDrop",t,e,i,n,s,function(){T(R[h],-i,-n,l),W(h)},o,r),W(h)}function k(t,e,i,n,s,o){var r=e._id;M(R[r],i,n),a("eventResize",t,e,i,n,function(){M(R[r],-i,-n),W(r)},s,o),W(r)}function T(t,i,n,s){n=n||0;for(var o,a=t.length,r=0;a>r;r++)o=t[r],s!==e&&(o.allDay=s),c(l(o.start,i,!0),n),o.end&&(o.end=c(l(o.end,i,!0),n)),I(o,Y)}function M(t,e,i){i=i||0;for(var n,s=t.length,o=0;s>o;o++)n=t[o],n.end=c(l(g(n),e,!0),i),I(n,Y)}function x(t){return"object"==typeof t&&(t=t.getDay()),K[t]}function S(){return Q}function $(t,e,i){for(e=e||1;K[(t.getDay()+(i?e:0)+7)%7];)l(t,e)}function E(){var t=_.apply(null,arguments),e=U(t),i=F(e);return i}function _(t,e){var i=L.getColCnt(),n=Z?-1:1,s=Z?i-1:0;"object"==typeof t&&(e=t.col,t=t.row);var o=t*i+(e*n+s);return o}function U(t){var e=L.visStart.getDay();return t+=G[e],7*Math.floor(t/Q)+X[(t%Q+Q)%Q]-e}function F(t){var e=d(L.visStart);return l(e,t),e}function A(t){var e=N(t),i=j(e),n=O(i);return n}function N(t){return p(t,L.visStart)}function j(t){var e=L.visStart.getDay();return t+=e,Math.floor(t/7)*Q+G[(t%7+7)%7]-G[e]}function O(t){var e=L.getColCnt(),i=Z?-1:1,n=Z?e-1:0,s=Math.floor(t/e),o=(t%e+e)%e*i+n;return{row:s,col:o}}function H(t,e){for(var i=L.getRowCnt(),n=L.getColCnt(),s=[],o=N(t),a=N(e),r=j(o),l=j(a)-1,h=0;i>h;h++){var c=h*n,u=c+n-1,d=Math.max(r,c),f=Math.min(l,u);if(f>=d){var p=O(d),g=O(f),m=[p.col,g.col].sort(),v=U(d)==o,y=U(f)+1==a;s.push({row:h,leftCol:m[0],rightCol:m[1],isStart:v,isEnd:y})}}return s}var L=this;L.element=i,L.calendar=n,L.name=s,L.opt=o,L.trigger=a,L.isEventDraggable=r,L.isEventResizable=h,L.setEventData=u,L.clearEventData=f,L.eventEnd=g,L.reportEventElement=m,L.triggerEventDestroy=v,L.eventElementHandlers=y,L.showEvents=w,L.hideEvents=b,L.eventDrop=D,L.eventResize=k;var V=L.defaultEventEnd,I=n.normalizeEvent,W=n.reportEventChange,R={},z={},q=[],Y=n.options;L.isHiddenDay=x,L.skipHiddenDays=$,L.getCellsPerWeek=S,L.dateToCell=A,L.dateToDayOffset=N,L.dayOffsetToCellOffset=j,L.cellOffsetToCell=O,L.cellToDate=E,L.cellToCellOffset=_,L.cellOffsetToDayOffset=U,L.dayOffsetToDate=F,L.rangeToSegments=H;var Q,J=o("hiddenDays")||[],K=[],G=[],X=[],Z=o("isRTL");!function(){o("weekends")===!1&&J.push(0,6);for(var e=0,i=0;7>e;e++)G[e]=i,K[e]=-1!=t.inArray(e,J),K[e]||(X[i]=e,i++);if(Q=i,!Q)throw"invalid hiddenDays"}()}function de(){function e(t,e){var i=n(t,!1,!0);pe(i,function(t,e){F(t.event,e)}),w(i,e),pe(i,function(t,e){$("eventAfterRender",t.event,t.event,e)})}function i(t,e,i){var s=n([t],!0,!1),o=[];return pe(s,function(t,n){t.row===e&&n.css("top",i),o.push(n[0])}),o}function n(e,i,n){var o,l,h=J(),d=i?t("<div/>"):h,f=s(e);return a(f),o=r(f),d[0].innerHTML=o,l=d.children(),i&&h.append(l),c(f,l),pe(f,function(t,e){t.hsides=S(e,!0)}),pe(f,function(t,e){e.width(Math.max(0,t.outerWidth-t.hsides))}),pe(f,function(t,e){t.outerHeight=e.outerHeight(!0)}),u(f,n),f}function s(t){for(var e=[],i=0;i<t.length;i++){var n=o(t[i]);e.push.apply(e,n)}return e}function o(t){for(var e=t.start,i=D(t),n=ee(e,i),s=0;s<n.length;s++)n[s].event=t;return n}function a(t){for(var e=x("isRTL"),i=0;i<t.length;i++){var n=t[i],s=(e?n.isEnd:n.isStart)?Y:B,o=(e?n.isStart:n.isEnd)?Q:q,a=s(n.leftCol),r=o(n.rightCol);n.left=a,n.outerWidth=r-a}}function r(t){for(var e="",i=0;i<t.length;i++)e+=h(t[i]);return e}function h(t){var e="",i=x("isRTL"),n=t.event,s=n.url,o=["fc-event","fc-event-hori"];E(n)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(n.className),n.source&&(o=o.concat(n.source.className||[]));var a=R(n,x);return e+=s?"<a href='"+V(s)+"'":"<div",e+=" class='"+o.join(" ")+"'"+" style="+"'"+"position:absolute;"+"left:"+t.left+"px;"+a+"'"+">"+"<div class='fc-event-inner'>",!n.allDay&&t.isStart&&(e+="<div class='fc-event-time'>"+V(K(n.start,n.end,x("timeFormat")))+"</div>"),e+="<div class='fc-event-title'>"+V(n.title||"")+"</div>"+"<div class='fc-event-register'>"+"<button class='btn btn-default btn-xs'>Register</button>"+"</div>"+"</div>",t.isEnd&&_(n)&&(e+="<div class='ui-resizable-handle ui-resizable-"+(i?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),e+="</"+(s?"a":"div")+">"}function c(e,i){for(var n=0;n<e.length;n++){var s=e[n],o=s.event,a=i.eq(n),r=$("eventRender",o,o,a);r===!1?a.remove():(r&&r!==!0&&(r=t(r).css({position:"absolute",left:s.left}),a.replaceWith(r),a=r),s.element=a)}}function u(t,e){var i=f(t),n=y(),s=[];if(e)for(var o=0;o<n.length;o++)n[o].height(i[o]);for(var o=0;o<n.length;o++)s.push(n[o].position().top);pe(t,function(t,e){e.css("top",s[t.row]+t.top)})}function f(t){for(var e=P(),i=W(),n=[],s=g(t),o=0;e>o;o++){for(var a=s[o],r=[],l=0;i>l;l++)r.push(0);for(var h=0;h<a.length;h++){var c=a[h];c.top=H(r.slice(c.leftCol,c.rightCol+1));for(var l=c.leftCol;l<=c.rightCol;l++)r[l]=c.top+c.outerHeight}n.push(H(r))}return n}function g(t){var e,i,n,s=P(),o=[];for(e=0;e<t.length;e++)i=t[e],n=i.row,i.element&&(o[n]?o[n].push(i):o[n]=[i]);for(n=0;s>n;n++)o[n]=m(o[n]||[]);return o}function m(t){for(var e=[],i=v(t),n=0;n<i.length;n++)e.push.apply(e,i[n]);return e}function v(t){t.sort(ge);for(var e=[],i=0;i<t.length;i++){for(var n=t[i],s=0;s<e.length&&fe(n,e[s]);s++);e[s]?e[s].push(n):e[s]=[n]}return e}function y(){var t,e=P(),i=[];for(t=0;e>t;t++)i[t]=z(t).find("div.fc-day-content > div");return i}function w(t,e){var i=J();pe(t,function(t,i,n){var s=t.event;s._id===e?b(s,i,t):i[0]._fci=n}),T(i,t,b)}function b(t,e,i){E(t)&&M.draggableDayEvent(t,e,i),i.isEnd&&_(t)&&M.resizableDayEvent(t,e,i),A(t,e)}function C(t,e){var i,n=te();e.draggable({delay:50,opacity:x("dragOpacity"),revertDuration:x("dragRevertDuration"),start:function(s,o){$("eventDragStart",e,t,s,o),j(t,e),n.start(function(n,s,o,a){if(e.draggable("option","revert",!n||!o&&!a),X(),n){var r=ie(s),h=ie(n);i=p(h,r),G(l(d(t.start),i),l(D(t),i))}else i=0},s,"drag")},stop:function(s,o){n.stop(),X(),$("eventDragStop",e,t,s,o),i?O(this,t,i,0,t.allDay,s,o):(e.css("filter",""),N(t,e))}})}function k(e,n,s){var o=x("isRTL"),a=o?"w":"e",r=n.find(".ui-resizable-"+a),h=!1;I(n),n.mousedown(function(t){t.preventDefault()}).click(function(t){h&&(t.preventDefault(),t.stopImmediatePropagation())}),r.mousedown(function(o){function r(i){$("eventResizeStop",this,e,i),t("body").css("cursor",""),c.stop(),X(),u&&L(this,e,u,0,i),setTimeout(function(){h=!1},0)}if(1==o.which){h=!0;var c=te();P(),W();var u,d,f=n.css("top"),p=t.extend({},e),g=ae(oe(e.start));Z(),t("body").css("cursor",a+"-resize").one("mouseup",r),$("eventResizeStart",this,e,o),c.start(function(n,o){if(n){var r=ne(o),h=ne(n);if(h=Math.max(h,g),u=se(h)-se(r)){p.end=l(U(e),u,!0);var c=d;d=i(p,s.row,f),d=t(d),d.find("*").css("cursor",a+"-resize"),c&&c.remove(),j(e)}else d&&(N(e),d.remove(),d=null);X(),G(e.start,l(D(e),u))}},o)}})}var M=this;M.renderDayEvents=e,M.draggableDayEvent=C,M.resizableDayEvent=k;var x=M.opt,$=M.trigger,E=M.isEventDraggable,_=M.isEventResizable,U=M.eventEnd,F=M.reportEventElement,A=M.eventElementHandlers,N=M.showEvents,j=M.hideEvents,O=M.eventDrop,L=M.eventResize,P=M.getRowCnt,W=M.getColCnt;M.getColWidth;var z=M.allDayRow,B=M.colLeft,q=M.colRight,Y=M.colContentLeft,Q=M.colContentRight;M.dateToCell;var J=M.getDaySegmentContainer,K=M.calendar.formatDates,G=M.renderDayOverlay,X=M.clearOverlays,Z=M.clearSelection,te=M.getHoverListener,ee=M.rangeToSegments,ie=M.cellToDate,ne=M.cellToCellOffset,se=M.cellOffsetToDayOffset,oe=M.dateToDayOffset,ae=M.dayOffsetToCellOffset}function fe(t,e){for(var i=0;i<e.length;i++){var n=e[i];if(n.leftCol<=t.rightCol&&n.rightCol>=t.leftCol)return!0}return!1}function pe(t,e){for(var i=0;i<t.length;i++){var n=t[i],s=n.element;s&&e(n,s,i)}}function ge(t,e){return e.rightCol-e.leftCol-(t.rightCol-t.leftCol)||e.event.allDay-t.event.allDay||t.event.start-e.event.start||(t.event.title||"").localeCompare(e.event.title)}function me(){function e(t,e,s){i(),e||(e=l(t,s)),h(t,e,s),n(t,e,s)}function i(t){u&&(u=!1,c(),r("unselect",null,t))}function n(t,e,i,n){u=!0,r("select",null,t,e,i,n)}function s(e){var s=o.cellToDate,r=o.getIsCellAllDay,l=o.getHoverListener(),u=o.reportDayClick;if(1==e.which&&a("selectable")){i(e);var d;l.start(function(t,e){c(),t&&r(t)?(d=[s(e),s(t)].sort(O),h(d[0],d[1],!0)):d=null},e),t(document).one("mouseup",function(t){l.stop(),d&&(+d[0]==+d[1]&&u(d[0],!0,t),n(d[0],d[1],!0,t))})}}var o=this;o.select=e,o.unselect=i,o.reportSelection=n,o.daySelectionMousedown=s;var a=o.opt,r=o.trigger,l=o.defaultSelectionEnd,h=o.renderSelection,c=o.clearSelection,u=!1;a("selectable")&&a("unselectAuto")&&t(document).mousedown(function(e){var n=a("unselectCancel");n&&t(e.target).parents(n).length||i(e)})}function ve(){function e(e,i){var n=o.shift();return n||(n=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),n[0].parentNode!=i[0]&&n.appendTo(i),s.push(n.css(e).show()),n}function i(){for(var t;t=s.shift();)o.push(t.hide().unbind())}var n=this;n.renderOverlay=e,n.clearOverlays=i;var s=[],o=[]}function ye(t){var e,i,n=this;n.build=function(){e=[],i=[],t(e,i)},n.cell=function(t,n){var s,o=e.length,a=i.length,r=-1,l=-1;for(s=0;o>s;s++)if(n>=e[s][0]&&n<e[s][1]){r=s;break}for(s=0;a>s;s++)if(t>=i[s][0]&&t<i[s][1]){l=s;break}return r>=0&&l>=0?{row:r,col:l}:null},n.rect=function(t,n,s,o,a){var r=a.offset();return{top:e[t][0]-r.top,left:i[n][0]-r.left,width:i[o][1]-i[n][0],height:e[s][1]-e[t][0]}}}function we(e){function i(t){be(t);var i=e.cell(t.pageX,t.pageY);(!i!=!a||i&&(i.row!=a.row||i.col!=a.col))&&(i?(o||(o=i),s(i,o,i.row-o.row,i.col-o.col)):s(i,o),a=i)}var n,s,o,a,r=this;r.start=function(r,l,h){s=r,o=a=null,e.build(),i(l),n=h||"mousemove",t(document).bind(n,i)},r.stop=function(){return t(document).unbind(n,i),a}}function be(t){t.pageX===e&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}function Ce(t){function i(e){return s[e]=s[e]||t(e)}var n=this,s={},o={},a={};n.left=function(t){return o[t]=o[t]===e?i(t).position().left:o[t]},n.right=function(t){return a[t]=a[t]===e?n.left(t)+i(t).width():a[t]},n.clear=function(){s={},o={},a={}}}var De={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},ke={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Te=t.fullCalendar={version:"1.6.4"},Me=Te.views={};t.fn.fullCalendar=function(i){if("string"==typeof i){var s,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t.data(this,"fullCalendar");if(n&&t.isFunction(n[i])){var a=n[i].apply(n,o);s===e&&(s=a),"destroy"==i&&t.removeData(this,"fullCalendar")}}),s!==e?s:this}i=i||{};var a=i.eventSources||[];return delete i.eventSources,i.events&&(a.push(i.events),delete i.events),i=t.extend(!0,{},De,i.isRTL||i.isRTL===e&&De.isRTL?ke:{},i),this.each(function(e,s){var o=t(s),r=new n(o,i,a);o.data("fullCalendar",r),r.render()}),this},Te.sourceNormalizers=[],Te.sourceFetchers=[];var xe={dataType:"json",cache:!1},Se=1;Te.addDays=l,Te.cloneDate=d,Te.parseDate=m,Te.parseISO8601=v,Te.parseTime=y,Te.formatDate=w,Te.formatDates=b;var $e=["sun","mon","tue","wed","thu","fri","sat"],Ee=864e5,_e=36e5,Ue=6e4,Fe={s:function(t){return t.getSeconds()},ss:function(t){return L(t.getSeconds())},m:function(t){return t.getMinutes()},mm:function(t){return L(t.getMinutes())},h:function(t){return t.getHours()%12||12},hh:function(t){return L(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return L(t.getHours())},d:function(t){return t.getDate()},dd:function(t){return L(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return L(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return(t.getFullYear()+"").substring(2)},yyyy:function(t){return t.getFullYear()},t:function(t){return t.getHours()<12?"a":"p"},tt:function(t){return t.getHours()<12?"am":"pm"},T:function(t){return t.getHours()<12?"A":"P"},TT:function(t){return t.getHours()<12?"AM":"PM"},u:function(t){return w(t,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(t){var e=t.getDate();return e>10&&20>e?"th":["st","nd","rd"][e%10-1]||"th"},w:function(t,e){return e.weekNumberCalculation(t)},W:function(t){return C(t)}};Te.dateFormatters=Fe,Te.applyAll=z,Me.month=q,Me.basicWeek=Y,Me.basicDay=Q,i({weekMode:"fixed"}),Me.agendaWeek=G,Me.agendaDay=X,i({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h(:mm)tt { - h(:mm)tt}","":"h(:mm)tt  { - h(:mm)tt}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery);