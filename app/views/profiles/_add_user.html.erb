
<script>
$(document).ready(function() {
document.getElementById("user_profile_attributes_state").classList.add('form-control');


    var phone = document.getElementById('user_profile_attributes_phone').value.toString();
    if (phone != "" && phone != "0"){ 
    number = "(" +phone.charAt(0)+phone.charAt(1)+phone.charAt(2)+ ") " 
        +phone.charAt(3)+phone.charAt(4)+phone.charAt(5)+ "-" 
        +phone.charAt(6)+phone.charAt(7)+phone.charAt(8)+phone.charAt(9)
    document.getElementById('user_phone_number').value = number;
    }

    var num = document.getElementById('user_profile_attributes_emergency_contact_number').value.toString();
    if (num != "" && num != "0"){ 
    number = "(" +num.charAt(0)+num.charAt(1)+num.charAt(2)+ ") " 
        +num.charAt(3)+num.charAt(4)+num.charAt(5)+ "-" 
        +num.charAt(6)+num.charAt(7)+num.charAt(8)+num.charAt(9)
    document.getElementById('user_profile_attributes_emergency_contact_number').value = number;
    }
    $('.form_datetime').datetimepicker({
        weekStart: 1,
        todayBtn:  0,
        autoclose: 1,
        todayHighlight: 0,
        minView: 2,
        startView: 4,
        forceParse: 0,
        showMeridian: 1
    });


});
</script>

<%= form_for(Profile.new) do |f| %>
  <%= devise_error_messages! %>
  <div class="row">
    <div class="form-group col-lg-6">
    <p><%= f.label :name %><br />
    <%=h f.text_field :name, :class => "form-control"%></p>
    <p><%= f.label :email %><br />
    <%=h f.email_field :email, :class => "form-control" %></p>
    <p><%= p.label :address %><br />
    <%=h p.text_field :address, :class => "form-control" %></p>
      
      <div class="row">
          <div class="form-group col-lg-8">
            <p><%= p.label :city %><br />
              <%=h p.text_field :city, :class => "form-control" %></p>  
          </div>
          <div class="form-group col-lg-4">
            <p><%= p.label :state %><br />
              <%= p.select :state, STATES, {:class => "form-control"} %></p>

          </div>
      </div>
    </div>

  <div class="form-group col-lg-6">
    <p><%= p.label :dob, "Date of Birth" %><br />
    <%=h p.text_field :dob, 'data-date' => Date.today, :class => "form_datetime form-control", 'data-date-format'=>"M d yyyy", :type => "text"%></p>

    <p><%= p.label :phone %><br />
      <%=h p.telephone_field :phone, :class => "form-control" %></p>

    <p><%= p.label :emergency_contact_name %><br />
    <%=h p.text_field :emergency_contact_name, :class => "form-control"%></p>

    <p><%= p.label :emergency_contact_number %><br />
    <%=h p.text_field :emergency_contact_number, :class => "form-control"%></p>

    <p style="padding-top:54px;"><%= f.label :password_confirmation %><br />
    <%=h f.password_field :password_confirmation, :class => "form-control" %></p>

    <a data-toggle="modal" href="#enter-password" class="btn btn-primary pull-right" type="button">Update</a>
  </div>
</div>